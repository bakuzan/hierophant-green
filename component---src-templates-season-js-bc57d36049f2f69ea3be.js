(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Dx0o:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("pVnL")),l=n(a("QILm")),i=n(a("qt7w")),s=n(a("HPmW")),u=n(a("q1tI")),o=n(a("tetp")),c=n(a("rAzH")),d=function(e){var t=e.containerClassName,a=e.className,n=e.text,s=e.options,d=e.children,f=(0,l.default)(e,["containerClassName","className","text","options","children"]),v=!!d,m=!!s,g="function"==typeof d;return u.default.createElement("div",{className:(0,i.default)("has-float-label","select-container",c.default.controlContainer,t)},u.default.createElement("select",(0,r.default)({className:(0,i.default)("select-box",o.default.select,a)},f),v&&!g&&d,v&&g&&m&&s.map(d),!v&&m&&s.map((function(e){return u.default.createElement("option",{key:e.value,value:e.value},e.text)}))),u.default.createElement("label",{htmlFor:f.id},n))};d.displayName="SelectBox",d.defaultProps={disabled:!1,children:null},d.propTypes={id:s.default.string.isRequired,containerClassName:s.default.string,value:s.default.oneOfType([s.default.string,s.default.number,s.default.bool]).isRequired,text:s.default.string,options:s.default.arrayOf(s.default.object),onChange:s.default.func.isRequired,children:s.default.oneOfType([s.default.func,s.default.arrayOf(s.default.node)])};var f=d;t.default=f},Nr18:function(e,t,a){"use strict";var n=a("S/j/"),r=a("d/Gc"),l=a("ne8i");e.exports=function(e){for(var t=n(this),a=l(t.length),i=arguments.length,s=r(i>1?arguments[1]:void 0,a),u=i>2?arguments[2]:void 0,o=void 0===u?a:r(u,a);o>s;)t[s++]=e;return t}},bHtr:function(e,t,a){var n=a("XKFU");n(n.P,"Array",{fill:a("Nr18")}),a("nGyu")("fill")},hbIb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return"";var t=new Date(e);return"".concat((0,r.default)(t.getDate(),2)," ").concat(n.default[t.getMonth()]," ").concat(t.getFullYear())};var n=l(a("nlUt")),r=l(a("rSgb"));function l(e){return e&&e.__esModule?e:{default:e}}},iI8e:function(e,t,a){"use strict";a("xfY5"),a("dRSK"),a("91GP");var n=a("q1tI"),r=a.n(n),l=a("hbIb"),i=a.n(l),s=a("Dx0o"),u=a.n(s),o=a("dOGx"),c=a.n(o),d=a("1kws"),f=a("d6sP"),v=a("Wbzz"),m=a("qGn+");function g(e){return e.isYear?e.year+" Overview":Object(m.a)(e.season)}var p=function(e){var t=e.next,a=e.previous;return r.a.createElement("nav",null,r.a.createElement("ul",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",listStyle:"none",padding:0}},r.a.createElement("li",null,a&&r.a.createElement(v.Link,{to:a.fields.slug,rel:"prev",style:{marginRight:20}},"← ",g(a))),r.a.createElement("li",null,t&&r.a.createElement(v.Link,{to:t.fields.slug,rel:"next"},g(t)," →"))))},h=a("qwlH"),y={textAlign:"right"},b=[{text:""},{text:"Total",style:Object.assign({},y)},{text:"Rated",style:Object.assign({},y)},{text:"Average Rating",style:Object.assign({},y)}];var x=function(e){var t=e.data.sort((function(e,t){return e.season>t.season?1:-1}));return r.a.createElement("div",null,r.a.createElement(h.a,{headers:b},(function(){return t.map((function(e){return r.a.createElement("tr",{key:e.season},r.a.createElement("th",null,r.a.createElement(v.Link,{to:"/"+e.season},Object(m.a)(e.season,!1))),r.a.createElement("td",{"column-title":"Total",className:"cell cell--rhs"},e.seriesCount),r.a.createElement("td",{"column-title":"Rated",className:"cell cell--rhs"},e.ratedCount),r.a.createElement("td",{"column-title":"Average Rating",className:"cell cell--rhs"},e.average))}))})))},O=a("cfVx"),E=a("dQon"),w=a("gMw9"),j=a("23Ag"),D=(a("Z2Ku"),a("rE2o"),a("ioFf"),a("rGqo"),a("bHtr"),a("xjvq")),S=a.n(D),_=a("pwos"),k=a.n(_),q=a("qB1S"),C=a("O0mD"),I=[8,11];var M={textAlign:"right"},A=[{text:"#",style:Object.assign({},M)},{text:"Title"},{text:"Episode Rating",style:Object.assign({},M)},{text:"Series Average",style:Object.assign({},M)},{text:"Series Highest",style:Object.assign({},M)},{text:"Series Lowest",style:Object.assign({},M)},{text:"Series Mode",style:Object.assign({},M)}];function N(e){var t=e.season,a=e.title,l=e.series,s=e.overview,o=e.hideRatingColumn,v=e.getSeason,m=e.customDescriptiveText,g=e.showFilters,h=e.pageContext,y=Object(n.useState)(0),b=y[0],D=y[1],_=Object(n.useState)(!1),M=_[0],N=_[1],P=Object(E.a)(),R=Object(n.useMemo)((function(){return function(e,t){if(!t)return[];var a=[{value:0,text:"All"}],n=Array(13).fill(null).map((function(e,t){return t+1})),r=new Date(e+"-01T00:00:00.000Z"),l=n,i=Array.isArray(l),s=0;for(l=i?l:l[Symbol.iterator]();;){var u;if(i){if(s>=l.length)break;u=l[s++]}else{if((s=l.next()).done)break;u=s.value}var o=u,c=13===o&&I.includes(r.getMonth())?7:6,d=S()(r),f=k()(d);f.setDate(f.getDate()+c),a.push({value:o,text:"Week "+o,startDate:d.toISOString(),endDate:f.toISOString()}),(r=new Date(f)).setDate(r.getDate()+1)}return a.filter((function(e){return!e.startDate||e.startDate<k()(new Date).toISOString()}))}(t,g)}),[t,g]),T=0===b,F=R.find((function(e){return e.value===b})),G=function(e,t){return t&&0!==t.value?Object(q.a)(e,"episodes").filter((function(e){return e.date>=t.startDate&&e.date<=t.endDate})).map((function(a){var n=e.find((function(e){return e.id===a.animeId})),r=Object(C.b)(n.episodes.filter((function(e){return e.date<=t.endDate})));return{id:a.id,animeId:a.animeId,episode:a.episode,rating:a.rating,title:n.title,image:n.image,malId:n.malId,statistics:r,episodes:[a]}})):e}(l.filter((function(e){return!e.isCarryOver||!M})),F).sort(j.a),H=Object(w.a)({series:l}),W=H.average,J=H.ratedCount;return r.a.createElement(d.a,null,r.a.createElement(f.a,{title:a}),r.a.createElement("div",null,r.a.createElement("h2",null,a),!!J&&r.a.createElement("p",null,"Average: ",W," for ",J," rated series"),s&&r.a.createElement(x,{data:s}),r.a.createElement("p",{style:{whiteSpace:"pre-line"}},m,!o&&"In the event I have yet to rate a series, the rating will appear as a hyphen (-).\n            This is usually the case for series that are still airing.","\n\r","In the cases where multiple ratings are tied in the mode calculation, one will be arbitrarily selected.","\n\r","Entries are sorted by average desc, rating desc, mode desc, and title asc."),g&&P&&r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"var(--primary-colour)",color:"var(--primary-contrast)",padding:"5px",margin:"10px 0"}},r.a.createElement("div",{style:{margin:"0 5px",minWidth:"200px"}},r.a.createElement(u.a,{style:{backgroundColor:"var(--primary-colour)",color:"var(--primary-contrast)"},className:"select-box--with-background",id:"weeks",name:"weeks",text:"Show week(s)",value:b,onChange:function(e){return D(Number(e.target.value))}},R.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.text)})))),r.a.createElement("div",{style:{margin:"0 5px"}},r.a.createElement(c.a,{className:"hide-carry-overs hide-carry-overs--with-background",id:"hideCarryOvers",name:"hideCarryOvers",checked:M,text:" Hide carry overs",onChange:function(e){return N((function(e){return!e}))}}))),!T&&r.a.createElement("p",null,"You are currently viewing the season filtered to episodes watched between ",i()(F.startDate)," and"," ",i()(F.endDate)," inclusive. All series statistic columns are cumulative for the season up to and including"," ",F.text,"."),!G.length&&r.a.createElement("p",null,r.a.createElement("strong",null,"There are no items to display for the current filters selected.")),T?r.a.createElement(O.a,{hideRatingColumn:o,getSeason:v,items:G}):r.a.createElement(O.a,{overrideHeaders:A,getSeason:v,items:G})),r.a.createElement(p,h))}N.defaultProps={customDescriptiveText:"",showFilters:!1};t.a=N},nlUt:function(e,t,a){"use strict";a("DW2E"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Object.freeze(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);t.default=n},ptqJ:function(e,t,a){"use strict";a.r(t),a.d(t,"query",(function(){return o}));a("rGqo"),a("yt8O"),a("Btvt"),a("RW0V"),a("91GP");var n=a("q1tI"),r=a.n(n),l=a("iI8e"),i=a("qGn+"),s=a("O0mD"),u=a("+9lZ");t.default=function(e){var t=e.data,a=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["data"]),n=t.dataJson,o=Object(i.a)(n.season),c=Object(s.a)(o,n.series,n.episodes);return r.a.createElement(l.a,Object.assign({},a,{title:o,series:c.filter((function(e){return e.episodes.length>u.b})),season:n.season,showFilters:!0}))};var o="2659129809"},pwos:function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,((n=a("q+ha"))&&n.__esModule?n:{default:n}).default)(23,59,59);t.default=r},"q+ha":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t,a){return function(n){var r=new Date(n);return new Date(r.getFullYear(),r.getMonth(),r.getDate(),e,t,a)}};t.default=n},rSgb:function(e,t,a){"use strict";a("a1Th"),a("Btvt"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return(e=e.toString()).length>=t?e:new Array(t-e.length+1).join(a)+e}},tetp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("Yymn").sheet)({select:{display:"flex",justifyContent:"center",minWidth:"100px",minHeight:"25px",padding:"5px",border:"none",cursor:"pointer",boxSizing:"content-box"}});t.default=n},xjvq:function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,((n=a("q+ha"))&&n.__esModule?n:{default:n}).default)(0,0,0);t.default=r}}]);
//# sourceMappingURL=component---src-templates-season-js-bc57d36049f2f69ea3be.js.map