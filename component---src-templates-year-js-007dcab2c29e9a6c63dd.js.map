{"version":3,"sources":["webpack:///./src/templates/year.js"],"names":["data","props","year","path","replace","seasons","allDataJson","nodes","filter","x","season","overview","map","averageRatedTotal","series","reduce","p","c","title","query"],"mappings":"4nBAQe,sBAAyB,IAAtBA,EAAqB,EAArBA,KAASC,E,oIAAY,aAC/BC,EAAOD,EAAME,KAAKC,QAAQ,MAAO,IACjCC,EAAUL,EAAKM,YAAYC,MAAMC,QACrC,SAACC,GAAD,MALqB,qBAKdA,EAAEC,UAGLC,EAAWN,EAAQO,IAAIC,KACvBC,EAAST,EAAQU,QACrB,SAACC,EAAGC,GAAJ,kBAAcD,GAAd,EAAoBC,EAAEH,OAAOF,KAAI,SAACH,GAAD,wBAAaA,EAAb,CAAgBC,OAAQO,EAAEP,gBAC3D,IAGF,OACE,kBAAC,IAAD,iBACMT,EADN,CAEEiB,MAAK,eAAiBhB,EACtBS,SAAUA,EACVG,OAAQA,MAKP,IAAMK,EAAK","file":"component---src-templates-year-js-007dcab2c29e9a6c63dd.js","sourcesContent":["import React from 'react';\r\nimport { graphql } from 'gatsby';\r\n\r\nimport BaseTemplate from '../components/BaseTemplate';\r\nimport averageRatedTotal from '../utils/averageRatedTotal';\r\n\r\nconst CURRENTLY_AIRING = 'Currently Airing';\r\n\r\nexport default ({ data, ...props }) => {\r\n  const year = props.path.replace(/\\//g, '');\r\n  const seasons = data.allDataJson.nodes.filter(\r\n    (x) => x.season !== CURRENTLY_AIRING\r\n  );\r\n\r\n  const overview = seasons.map(averageRatedTotal);\r\n  const series = seasons.reduce(\r\n    (p, c) => [...p, ...c.series.map((x) => ({ ...x, season: c.season }))],\r\n    []\r\n  );\r\n\r\n  return (\r\n    <BaseTemplate\r\n      {...props}\r\n      title={`Overview of ${year}`}\r\n      overview={overview}\r\n      series={series}\r\n    />\r\n  );\r\n};\r\n\r\nexport const query = graphql`\r\n  query($slug: String!) {\r\n    allDataJson(filter: { fields: { slug: { regex: $slug } } }) {\r\n      nodes {\r\n        id\r\n        season\r\n        series {\r\n          id\r\n          title\r\n          image {\r\n            childImageSharp {\r\n              fixed(width: 96, height: 150) {\r\n                ...GatsbyImageSharpFixed\r\n              }\r\n            }\r\n          }\r\n          malId\r\n          rating\r\n          average\r\n          highest\r\n          lowest\r\n          mode\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"sourceRoot":""}