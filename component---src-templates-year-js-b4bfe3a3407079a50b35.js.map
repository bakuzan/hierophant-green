{"version":3,"sources":["webpack:///./src/templates/year.js"],"names":["data","props","year","path","replace","seasons","allDataJson","nodes","overview","map","averageRatedTotal","series","reduce","p","c","x","season","console","log","title","query"],"mappings":"4nBAMe,sBAAyB,IAAtBA,EAAqB,EAArBA,KAASC,E,oIAAY,aAC/BC,EAAOD,EAAME,KAAKC,QAAQ,MAAO,IACjCC,EAAUL,EAAKM,YAAYC,MAC3BC,EAAWH,EAAQI,IAAIC,KACvBC,EAASN,EAAQO,QACrB,SAACC,EAAGC,GAAJ,kBAAcD,GAAd,EAAoBC,EAAEH,OAAOF,KAAI,SAACM,GAAD,wBAAaA,EAAb,CAAgBC,OAAQF,EAAEE,gBAC3D,IAGF,OADAC,QAAQC,IAAIjB,GAEV,kBAAC,IAAD,iBACMA,EADN,CAEEkB,MAAK,eAAiBjB,EACtBM,SAAUA,EACVG,OAAQA,MAKP,IAAMS,EAAK","file":"component---src-templates-year-js-b4bfe3a3407079a50b35.js","sourcesContent":["import React from 'react';\r\nimport { graphql } from 'gatsby';\r\n\r\nimport BaseTemplate from '../components/BaseTemplate';\r\nimport averageRatedTotal from '../utils/averageRatedTotal';\r\n\r\nexport default ({ data, ...props }) => {\r\n  const year = props.path.replace(/\\//g, '');\r\n  const seasons = data.allDataJson.nodes;\r\n  const overview = seasons.map(averageRatedTotal);\r\n  const series = seasons.reduce(\r\n    (p, c) => [...p, ...c.series.map((x) => ({ ...x, season: c.season }))],\r\n    []\r\n  );\r\n  console.log(props);\r\n  return (\r\n    <BaseTemplate\r\n      {...props}\r\n      title={`Overview of ${year}`}\r\n      overview={overview}\r\n      series={series}\r\n    />\r\n  );\r\n};\r\n\r\nexport const query = graphql`\r\n  query($slug: String!) {\r\n    allDataJson(filter: { fields: { slug: { regex: $slug } } }) {\r\n      nodes {\r\n        id\r\n        season\r\n        series {\r\n          id\r\n          title\r\n          image {\r\n            childImageSharp {\r\n              fixed(width: 96, height: 150) {\r\n                ...GatsbyImageSharpFixed\r\n              }\r\n            }\r\n          }\r\n          malId\r\n          rating\r\n          average\r\n          highest\r\n          lowest\r\n          mode\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"sourceRoot":""}